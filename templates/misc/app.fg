import logging
import os

from apps.config import config_dict
from apps import create_app, db

config_name = os.environ.get('FLASK_ENV', 'Local')
try:
    app_config = config_dict[config_name.lower().title()]
except:
    config_names = [x.FLASK_ENV for x in config_dict.values()]
    exit(f"Error: Invalid <config_mode>. Expected values [{','.join(config_names)}]")

app = create_app(app_config)

if __name__ == "__main__":
    app.run()